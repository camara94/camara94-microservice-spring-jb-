<section class="container mx-auto" [style.overflow]="'auto'" [style.height.px]="'700'">
  <div class="row">
    <mat-card class="col-md-12">
      <mat-card-header>
        <mat-card-title>
          {{data.etudiant.firstname + ' ' + data.etudiant.lastname }}
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="col-md-12">
        <mat-card-subtitle> <strong class="text-primary"> {{'BAC' | uppercase }} </strong> </mat-card-subtitle>
              <div *ngIf="data.etudiant.bac === null">
                <span>Aucun dossier pour le BAC</span>&nbsp;
                <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
              </div>
              <div class="responsive" *ngIf="data.etudiant.bac !== null">
                <table class="table table-bordered">
                 <thead>
                  <tr>
                    <th>Option</th>
                    <th>Moyenne</th>
                    <th>Année</th>
                    <th>Ecole d'origine</th>
                    <th>Justificatif</th>
                  </tr>
                 </thead>
                 <tbody>
                   <tr>
                     <td> {{ data.etudiant.bac.option }} </td>
                     <td> {{ data.etudiant.bac.moyenne }} </td>
                     <td> {{ data.etudiant.bac.annee }} </td>
                     <td> {{ data.etudiant.bac.ecole }} </td>
                     <td>

                      <button  class="btn btn-primary btn-sm" (click)="openDialog(data.etudiant.bac.file)" > voir </button>
                      &nbsp;
                      <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
                   </tr>
                 </tbody>
                </table>
              </div>
      </mat-card-content>
      <mat-card-content class="col-md-12">
        <mat-card-subtitle> <strong class="text-primary"> {{'Diplômes' | uppercase }} </strong> </mat-card-subtitle>
        <div *ngIf="data.etudiant.diplomes === null">
          <span>Aucun dossier pour le Diplome</span>&nbsp;
          <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
        </div>
        <ul class="responsive" *ngIf="data.etudiant.diplomes !== null">
          <li *ngFor="let diplome of data.etudiant.diplomes, let i=index">
              {{ diplome.titre }} {{ ' Année: ' + diplome.annee}}
              <div class="responsive">
                <table class="table table-bordered">
                 <thead>
                  <tr>
                    <th>Titre</th>
                    <th>Moyenne</th>
                    <th>Année universitaire</th>
                    <th>Justificatif</th>
                  </tr>
                 </thead>
                 <tbody>
                   <tr *ngFor="let releve of diplome.anneeUniversitaires">
                     <td> {{ releve.titre}} </td>
                     <td> {{ releve.moyenne }} </td>
                     <td> {{ releve.annee }} </td>
                     <td>
                      <button class="btn btn-primary btn-sm" (click)="openDialog(releve.file)" > voir </button>
                      &nbsp;
                      <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
                     </td>
                   </tr>
                 </tbody>
                </table>
              </div>
          </li>
        </ul>
      </mat-card-content>
    </mat-card>
    <mat-card class="col-md-12">
      <mat-card-header>
        <mat-card-title>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="col-12">
        <mat-card-subtitle> <strong class="text-primary"> {{'Formations' | uppercase }} </strong> </mat-card-subtitle>
              <div *ngIf="data.etudiant.formations === null">
                <span>Aucun dossier pour la formations</span>&nbsp;
                <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
              </div>
              <div class="responsive" *ngIf="data.etudiant.formations !== null">
                <table class="table table-bordered">
                 <thead>
                  <tr>
                    <th>Titre</th>
                    <th>Durée</th>
                    <th>Date début</th>
                    <th>Date fin</th>
                    <th>Justificatif</th>
                  </tr>
                 </thead>
                 <tbody>
                   <tr *ngFor="let formation of data.etudiant.formations, let i=index">
                     <td> {{ formation.titre}} </td>
                     <td> {{ formation.duree}} </td>
                     <td> {{ formation.dateDebut | date }} </td>
                     <td> {{ formation.dateFin | date}} </td>
                     <td>
                      <button class="btn btn-primary btn-sm" (click)="openDialog(formation.file)" > voir </button>
                      &nbsp;
                      <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
                    </td>
                   </tr>
                 </tbody>
                </table>
              </div>
      </mat-card-content>
      <mat-card-content class="col-md-12">
        <mat-card-subtitle> <strong class="text-primary"> {{'Distinctions' | uppercase }}</strong> </mat-card-subtitle>
              <div *ngIf="data.etudiant.distinctions === null">
                <span>Aucun dossier pour la distinction</span>&nbsp;
                <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
              </div>
              <div class="responsive" *ngIf="data.etudiant.distinctions !== null">
                <table class="table table-bordered">
                 <thead>
                  <tr>
                    <th>Context</th>
                    <th>Organisation</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th>Justificatif</th>
                  </tr>
                 </thead>
                 <tbody>
                   <tr *ngFor="let distinction of data.etudiant.distinctions; let index = index">
                     <td> {{ distinction.context }} </td>
                     <td> {{ distinction.organisation }} </td>
                     <td> {{ distinction.description }} </td>
                     <td> {{ distinction.date | date}} </td>
                     <td>
                      <button class="btn btn-primary btn-sm" (click)="openDialog(distinction.file)" > voir </button>
                      &nbsp;
                      <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
                     </td>
                   </tr>
                 </tbody>
                </table>
              </div>
      </mat-card-content>

      <mat-card-content class="col-md-12">
        <mat-card-subtitle> <strong class="text-primary"> {{'Certificats' | uppercase }}</strong> </mat-card-subtitle>
              <div *ngIf="data.etudiant.certificats === null">
                <span>Aucun dossier pour la distinction</span>&nbsp;
                <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
              </div>
              <div class="responsive" *ngIf="data.etudiant.certificats !== null">
                <table class="table table-bordered">
                 <thead>
                  <tr>
                    <th>Intitulé</th>
                    <th>Organisme</th>
                    <th>Date</th>
                    <th>Justificatif</th>
                  </tr>
                 </thead>
                 <tbody>
                   <tr *ngFor="let certificat of data.etudiant.certificats; let index = index">
                     <td> {{ certificat.intitule }} </td>
                     <td> {{ certificat.organisme }} </td>
                     <td> {{ certificat.date | date}} </td>
                     <td>
                      <button class="btn btn-primary btn-sm" (click)="openDialog(certificat.file)" > voir </button>
                      &nbsp;
                      <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
                     </td>
                   </tr>
                 </tbody>
                </table>
              </div>
      </mat-card-content>

      <mat-card-content class="col-md-12">
        <mat-card-subtitle> <strong class="text-primary"> {{'Stages ou Expériences' | uppercase }}</strong> </mat-card-subtitle>
              <div *ngIf="data.etudiant.stageExperiences === null">
                <span>Aucun dossier pour la distinction</span>&nbsp;
                <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
              </div>
              <div class="responsive" *ngIf="data.etudiant.stageExperiences !== null">
                <table class="table table-bordered">
                 <thead>
                  <tr>
                    <th>Titre</th>
                    <th>Organisme</th>
                    <th>Nature</th>
                    <th>Durée</th>
                    <th>Justificatif</th>
                  </tr>
                 </thead>
                 <tbody>
                   <tr *ngFor="let stageExperience of data.etudiant.stageExperiences; let index = index">
                     <td> {{ stageExperience.titre }} </td>
                     <td> {{ stageExperience.organisme }} </td>
                     <td> {{ stageExperience.nature }} </td>
                     <td> {{ stageExperience.duree + ' jours'}} </td>
                     <td>
                      <button class="btn btn-primary btn-sm" (click)="openDialog(stageExperience.file)" > voir </button>
                      &nbsp;
                      <button class="btn btn-warning btn-sm" (click)="openDialogNotif(data.etudiant)"  > notifier </button>
                     </td>
                   </tr>
                 </tbody>
                </table>
              </div>
      </mat-card-content>
    </mat-card>
  </div>
</section>

<!-- Modal rélévé de note-->
<div class="modal fade" id="bacFile" tabindex="1" role="dialog" aria-labelledby="bacFile" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img src="data.etudiant.bac.file" />
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
